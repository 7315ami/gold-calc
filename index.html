<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>ゴールド計算</title>

<style>
:root{
  --bg:#f5f6f8;
  --card:#ffffff;
  --line:#e3e5ea;
  --main:#0b1736;
  --accent:#ffd400;
}

*{box-sizing:border-box;}

body{
  margin:0;
  background:var(--bg);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
  color:#111;
}

.wrap{
  max-width:720px;
  margin:0 auto;
  padding:16px;
}

.card{
  background:var(--card);
  border-radius:18px;
  border:1px solid var(--line);
  padding:16px;
  margin-bottom:14px;
}

h1{
  margin:0 0 4px;
  font-size:34px;
  font-weight:800;
  color:var(--main);
}

.sub{
  color:#6d7380;
  margin-bottom:14px;
}

.row{
  display:flex;
  gap:10px;
  margin-bottom:10px;
}

button{
  flex:1;
  border:1px solid var(--line);
  background:#fff;
  padding:12px;
  border-radius:14px;
  font-size:24px;
  font-weight:700;
  cursor:pointer;
}

button.active{
  background:#eef1f7;
}

#tabSpecial.active{
  background:var(--accent);
}

.label{
  font-size:24px;
  font-weight:700;
  margin:14px 0 8px;
}

input{
  width:100%;
  padding:14px;
  font-size:34px;
  font-weight:800;
  border-radius:14px;
  border:1px solid var(--line);
  margin-bottom:8px;
}

.small{
  font-size:20px;
  color:#6d7380;
  margin-bottom:10px;
}

.calcBtn{
  background:var(--main);
  color:#fff;
  border:none;
  width:140px;
}

.resultTitle{
  font-size:30px;
  font-weight:800;
  margin-bottom:10px;
}

.metric{
  margin:14px 0;
}

.metricLabel{
  font-size:24px;
  color:#555;
}

.metricValue{
  font-size:38px;
  font-weight:800;
  color:var(--main);
}

details{
  margin-top:12px;
  border:1px solid var(--line);
  border-radius:12px;
  padding:10px;
  background:#fafafa;
}

summary{
  font-size:22px;
  font-weight:700;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="wrap">

<div class="card">
  <h1 id="title">ゴールド計算</h1>
  <div class="sub" id="subtitle">Ghana → Japan / 利益計算</div>

  <div class="row">
    <button id="btnJa" class="active">日本語</button>
    <button id="btnEn">English</button>
    <button id="btnPdf">PDF</button>
  </div>

  <div class="row">
    <button id="tabNormal" class="active">通常計算</button>
    <button id="tabSpecial">特別調達枠</button>
  </div>
</div>

<div class="card">

  <div class="label">入力</div>

  <div>購入単価（GHS / Ghana pound）</div>
  <input id="price" value="11000">
  <div class="small">1 Ghana pound あたり</div>

  <div>重量（Ghana pound）</div>
  <input id="pound" value="641.03">

  <div>重量（g）</div>
  <input id="gram" value="5000">
  <div class="small">1 Ghana pound = 7.8 g（連動）</div>

  <div>為替（1 GHS → JPY）</div>
  <input id="fx" value="14.5">

  <div>日本24金 買取参考価格（JPY / g）</div>
  <input id="jp" value="26000">

  <div>その他コスト（GHS）</div>
  <input id="cost" value="0">

  <div class="row">
    <button id="calc" class="calcBtn">計算</button>
  </div>

</div>

<div class="card">

  <div class="resultTitle">結果</div>

  <div class="metric">
    <div class="metricLabel">支払う総額（JPY）</div>
    <div class="metricValue" id="total">—</div>
  </div>

  <div class="metric">
    <div class="metricLabel">最終利益（JPY）</div>
    <div class="metricValue" id="profit">—</div>
  </div>

  <div class="metric">
    <div class="metricLabel">利益率（%）</div>
    <div class="metricValue" id="rate">—</div>
  </div>

  <details>
    <summary>内訳（タップで開く）</summary>
    <div id="detail"></div>
  </details>

</div>
<script>

const $ = (id)=>document.getElementById(id);

let mode = "normal";
let lang = "ja";

/* ====== TAB ====== */
$("tabNormal").onclick = ()=>{
  mode="normal";
  $("tabNormal").classList.add("active");
  $("tabSpecial").classList.remove("active");
};

$("tabSpecial").onclick = ()=>{
  mode="special";
  $("tabSpecial").classList.add("active");
  $("tabNormal").classList.remove("active");
};

/* ====== LANGUAGE ====== */
$("btnJa").onclick=()=>{
  lang="ja";
  $("btnJa").classList.add("active");
  $("btnEn").classList.remove("active");
};

$("btnEn").onclick=()=>{
  lang="en";
  $("btnEn").classList.add("active");
  $("btnJa").classList.remove("active");
};

/* ====== LINKED INPUT ====== */
$("gram").oninput=()=>{
  $("pound").value=(Number($("gram").value)/7.8).toFixed(2);
};

$("pound").oninput=()=>{
  $("gram").value=(Number($("pound").value)*7.8).toFixed(0);
};

/* ====== CALC ====== */
$("calc").onclick=()=>{

  const price=Number($("price").value);
  const pound=Number($("pound").value);
  const gram=Number($("gram").value);
  const fx=Number($("fx").value);
  const jp=Number($("jp").value);
  const cost=Number($("cost").value);

  const buyGHS = price*pound;
  const totalGHS = buyGHS + cost;
  const totalJPY = totalGHS*fx;

  const sellJPY = gram*jp;
  const profit = sellJPY-totalJPY;
  const rate = totalJPY===0 ? 0 : (profit/totalJPY*100);

  $("total").textContent = totalJPY.toLocaleString();
  $("profit").textContent = profit.toLocaleString();
  $("rate").textContent = rate.toFixed(2);

  $("detail").innerHTML =
    "購入額(GHS): "+buyGHS.toLocaleString()+"<br>"+
    "総コスト(GHS): "+totalGHS.toLocaleString()+"<br>"+
    "日本売却額(JPY): "+sellJPY.toLocaleString();

};

/* ====== PDF ====== */
$("btnPdf").onclick=()=>window.print();

</script>

</body>
</html>